{"ast":null,"code":"import axios from \"axios\";\nimport { addFolder, setFiles } from \"../reducers/fileReducer\";\nexport function getFiles(dirId) {\n  return async dispatch => {\n    const res = await axios.get(`http://localhost:5000/api/drive/file/${dirId ? dirId : ''}`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n    dispatch(setFiles(res.data));\n  };\n}\nexport function createDir(dirId, dirName) {\n  return async dispatch => {\n    const res = await axios.post(`http://localhost:5000/api/drive/folder`, {\n      name: dirName,\n      parentId: dirId,\n      type: 'dir'\n    }, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n    dispatch(addFolder(res.data));\n  };\n}\nexport function uploadFile(dirId, file) {\n  return async dispatch => {\n    const data = new FormData();\n    data.append('file', file);\n\n    if (dirId) {\n      data.append('parentId', dirId);\n    }\n\n    const res = await axios.post('http://localhost:5000/api/drive/folder', data, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/Users/admin/Desktop/DataArt/CloudDrive/front/src/actions/file.js"],"names":["axios","addFolder","setFiles","getFiles","dirId","dispatch","res","get","headers","Authorization","localStorage","getItem","data","createDir","dirName","post","name","parentId","type","uploadFile","file","FormData","append"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,yBAApC;AAEA,OAAO,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAC5B,SAAO,MAAMC,QAAN,IAAkB;AACrB,UAAMC,GAAG,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAW,wCAAuCH,KAAK,GAAGA,KAAH,GAAW,EAAG,EAArE,EAAwE;AACtFI,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADlD;AAD6E,KAAxE,CAAlB;AAKAN,IAAAA,QAAQ,CAACH,QAAQ,CAACI,GAAG,CAACM,IAAL,CAAT,CAAR;AACH,GAPD;AAQH;AAED,OAAO,SAASC,SAAT,CAAmBT,KAAnB,EAA0BU,OAA1B,EAAmC;AACtC,SAAO,MAAMT,QAAN,IAAkB;AACrB,UAAMC,GAAG,GAAG,MAAMN,KAAK,CAACe,IAAN,CAAY,wCAAZ,EAAqD;AACnEC,MAAAA,IAAI,EAAEF,OAD6D;AAEnEG,MAAAA,QAAQ,EAAEb,KAFyD;AAGnEc,MAAAA,IAAI,EAAE;AAH6D,KAArD,EAKlB;AACIV,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADlD;AADb,KALkB,CAAlB;AAUAN,IAAAA,QAAQ,CAACJ,SAAS,CAACK,GAAG,CAACM,IAAL,CAAV,CAAR;AACH,GAZD;AAaH;AAED,OAAO,SAASO,UAAT,CAAoBf,KAApB,EAA2BgB,IAA3B,EAAiC;AACpC,SAAO,MAAMf,QAAN,IAAkB;AACrB,UAAMO,IAAI,GAAG,IAAIS,QAAJ,EAAb;AACAT,IAAAA,IAAI,CAACU,MAAL,CAAY,MAAZ,EAAoBF,IAApB;;AACA,QAAGhB,KAAH,EAAU;AACNQ,MAAAA,IAAI,CAACU,MAAL,CAAY,UAAZ,EAAwBlB,KAAxB;AACH;;AACD,UAAME,GAAG,GAAG,MAAMN,KAAK,CAACe,IAAN,CAAW,wCAAX,EAAqDH,IAArD,EAA2D;AACzEJ,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADlD;AADgE,KAA3D,CAAlB;AAKH,GAXD;AAYH","sourcesContent":["import axios from \"axios\";\nimport { addFolder, setFiles } from \"../reducers/fileReducer\";\n\nexport function getFiles(dirId) {\n    return async dispatch => {\n        const res = await axios.get(`http://localhost:5000/api/drive/file/${dirId ? dirId : ''}`, {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n        });\n        dispatch(setFiles(res.data));\n    }\n}\n\nexport function createDir(dirId, dirName) {\n    return async dispatch => {\n        const res = await axios.post(`http://localhost:5000/api/drive/folder`, {\n            name: dirName,\n            parentId: dirId,\n            type: 'dir'\n        },\n        {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n        });\n        dispatch(addFolder(res.data));\n    }\n}\n\nexport function uploadFile(dirId, file) {\n    return async dispatch => {\n        const data = new FormData();\n        data.append('file', file);\n        if(dirId) {\n            data.append('parentId', dirId);\n        }\n        const res = await axios.post('http://localhost:5000/api/drive/folder', data, {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n        });\n    }\n}"]},"metadata":{},"sourceType":"module"}