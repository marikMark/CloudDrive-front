{"ast":null,"code":"const SET_FILES = 'SET_FILES';\nconst SET_CURRENT_DIR = 'SET_CURRENT_DIR';\nconst ADD_FOLDER = 'ADD_FOLDER';\nconst PUSH_TO_STACK = 'PUSH_TO_STACK';\nconst POP_TO_STACK = 'POP_TO_STACK';\nconst SET_DRAGGING_FILE = 'SET_DRAGGING_FILE';\nconst REMOVE_FROM_FILES = 'REMOVE_FROM_FILES';\nconst RENAME_FILE = 'RENAME_FILE';\nconst UPDATE_FILE = 'UPDATE_FILE';\nconst defaultState = {\n  files: [],\n  currentDir: 'null',\n  dirStack: [],\n  draggingFile: null\n};\nexport default function fileReducer(state = defaultState, action) {\n  switch (action.type) {\n    case SET_FILES:\n      return { ...state,\n        files: action.payload\n      };\n\n    case SET_CURRENT_DIR:\n      return { ...state,\n        currentDir: action.payload\n      };\n\n    case ADD_FOLDER:\n      return { ...state,\n        files: [...state.files, action.payload]\n      };\n\n    case PUSH_TO_STACK:\n      return { ...state,\n        dirStack: [...state.dirStack, action.payload]\n      };\n\n    case SET_DRAGGING_FILE:\n      return { ...state,\n        draggingFile: action.payload\n      };\n\n    case REMOVE_FROM_FILES:\n      const newFiles = state.files.filter(n => n._id !== action.payload._id);\n      return { ...state,\n        files: newFiles\n      };\n\n    case RENAME_FILE:\n      let renamedFile = state.files.find(n => n._id === action.payload.file._id);\n      renamedFile.name = action.payload.newName;\n      renamedFile.type = action.payload.newType;\n      const renamedFileIndex = state.files.findIndex(n => n._id === action.payload.file._id);\n      state.files[renamedFileIndex] = renamedFile;\n      return { ...state,\n        files: [...state.files]\n      };\n\n    case UPDATE_FILE:\n      let updatedFile = state.files.find(n => n._id === action.payload._id);\n      console.log(action.payload);\n      updatedFile.size = action.payload.size;\n      const updatedFileIndex = state.files.findIndex(n => n._id === action.payload._id);\n      state.files[updatedFileIndex] = updatedFile;\n      return { ...state,\n        files: [...state.files]\n      };\n\n    default:\n      return state;\n  }\n}\nexport const setFiles = files => {\n  return {\n    type: SET_FILES,\n    payload: files\n  };\n};\nexport const setCurrentDir = dir => {\n  return {\n    type: SET_CURRENT_DIR,\n    payload: dir\n  };\n};\nexport const addFile = dir => {\n  return {\n    type: ADD_FOLDER,\n    payload: dir\n  };\n};\nexport const pushToStack = dir => {\n  return {\n    type: PUSH_TO_STACK,\n    payload: dir\n  };\n};\nexport const setDraggingFile = file => {\n  return {\n    type: SET_DRAGGING_FILE,\n    payload: file\n  };\n};\nexport const removeFromFiles = file => {\n  return {\n    type: REMOVE_FROM_FILES,\n    payload: file\n  };\n};\nexport const renameFileReducer = data => {\n  return {\n    type: RENAME_FILE,\n    payload: data\n  };\n};\nexport const updateFile = file => {\n  return {\n    type: UPDATE_FILE,\n    payload: file\n  };\n};","map":{"version":3,"sources":["/Users/admin/Desktop/DataArt/CloudDrive/front/src/reducers/fileReducer.js"],"names":["SET_FILES","SET_CURRENT_DIR","ADD_FOLDER","PUSH_TO_STACK","POP_TO_STACK","SET_DRAGGING_FILE","REMOVE_FROM_FILES","RENAME_FILE","UPDATE_FILE","defaultState","files","currentDir","dirStack","draggingFile","fileReducer","state","action","type","payload","newFiles","filter","n","_id","renamedFile","find","file","name","newName","newType","renamedFileIndex","findIndex","updatedFile","console","log","size","updatedFileIndex","setFiles","setCurrentDir","dir","addFile","pushToStack","setDraggingFile","removeFromFiles","renameFileReducer","data","updateFile"],"mappings":"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","sourcesContent":["const SET_FILES = 'SET_FILES';\nconst SET_CURRENT_DIR = 'SET_CURRENT_DIR';\nconst ADD_FOLDER = 'ADD_FOLDER';\nconst PUSH_TO_STACK = 'PUSH_TO_STACK';\nconst POP_TO_STACK = 'POP_TO_STACK';\nconst SET_DRAGGING_FILE = 'SET_DRAGGING_FILE';\nconst REMOVE_FROM_FILES = 'REMOVE_FROM_FILES';\nconst RENAME_FILE = 'RENAME_FILE';\nconst UPDATE_FILE = 'UPDATE_FILE';\n\nconst defaultState = {\n    files: [],\n    currentDir: 'null',\n    dirStack: [],\n    draggingFile: null\n}\n\nexport default function fileReducer(state = defaultState, action) {\n    switch(action.type) {\n        case SET_FILES:\n            return {\n                ...state,\n                files: action.payload\n            }\n        case SET_CURRENT_DIR:\n            return {\n                ...state,\n                currentDir: action.payload\n            }\n        case ADD_FOLDER:\n            return {\n                ...state,\n                files: [\n                    ...state.files,\n                    action.payload\n                ]\n            }\n        case PUSH_TO_STACK:\n            return {\n                ...state,\n                dirStack: [...state.dirStack, action.payload]\n            }\n        case SET_DRAGGING_FILE:\n            return {\n                ...state,\n                draggingFile: action.payload\n            }\n        case REMOVE_FROM_FILES:\n            const newFiles = state.files.filter(n => n._id !== action.payload._id);\n            return {\n                ...state,\n                files: newFiles\n            }\n        case RENAME_FILE:\n            let renamedFile = state.files.find(n => n._id === action.payload.file._id);\n            renamedFile.name = action.payload.newName;\n            renamedFile.type = action.payload.newType;\n            const renamedFileIndex = state.files.findIndex(n => n._id === action.payload.file._id);\n            state.files[renamedFileIndex] = renamedFile;\n            return {\n                ...state,\n                files: [\n                    ...state.files\n                ]\n            }\n        case UPDATE_FILE:\n            let updatedFile = state.files.find(n => n._id === action.payload._id);\n            console.log(action.payload);\n            updatedFile.size = action.payload.size;\n            const updatedFileIndex = state.files.findIndex(n => n._id === action.payload._id);\n            state.files[updatedFileIndex] = updatedFile;\n            return {\n                ...state,\n                files: [\n                    ...state.files\n                ]\n            }\n        default:\n            return state;\n    }\n}\n\nexport const setFiles = files => {\n    return {\n        type: SET_FILES,\n        payload: files\n    }\n}\nexport const setCurrentDir = dir => {\n    return {\n        type: SET_CURRENT_DIR,\n        payload: dir\n    }\n}\nexport const addFile = dir => {\n    return {\n        type: ADD_FOLDER,\n        payload: dir\n    }\n}\nexport const pushToStack = dir => {\n    return {\n        type: PUSH_TO_STACK,\n        payload: dir\n    }\n}\nexport const setDraggingFile = file => {\n    return {\n        type: SET_DRAGGING_FILE,\n        payload: file\n    }\n}\nexport const removeFromFiles = file => {\n    return {\n        type: REMOVE_FROM_FILES,\n        payload: file\n    }\n}\nexport const renameFileReducer = data => {\n    return {\n        type: RENAME_FILE,\n        payload: data\n    }\n}\nexport const updateFile = file => {\n    return {\n        type: UPDATE_FILE,\n        payload: file\n    }\n}"]},"metadata":{},"sourceType":"module"}