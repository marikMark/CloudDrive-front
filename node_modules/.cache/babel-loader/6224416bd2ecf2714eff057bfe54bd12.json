{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { setUser } from '../reducers/userReducer';\nimport { useState } from 'react';\nexport const User = () => {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  return async dispatch => {\n    const res = await axios.get('http://localhost:5000/api/auth/check', {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }); // const {user, token} = res.data;\n\n    const {\n      user\n    } = res.data;\n    const {\n      token\n    } = res.data;\n    console.log(user.userId);\n    dispatch(setUser(user));\n    localStorage.setItem('token', token);\n  };\n};\n\n_s(User, \"awoWwSKBZAy48DVUNX9vIFbdsbI=\");\n\n_c = User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"sources":["/Users/admin/Desktop/DataArt/CloudDrive/front/src/actions/user.js"],"names":["axios","setUser","useState","User","loading","setLoading","dispatch","res","get","headers","Authorization","localStorage","getItem","user","data","token","console","log","userId","setItem"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,yBAAxB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,OAAO,MAAMC,IAAI,GAAG,MAAM;AAAA;;AACtB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBH,QAAQ,CAAC,IAAD,CAAtC;AACA,SAAO,MAAMI,QAAN,IAAkB;AACrB,UAAMC,GAAG,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAU,sCAAV,EAAkD;AAChEC,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADlD;AADuD,KAAlD,CAAlB,CADqB,CAMrB;;AACA,UAAM;AAACC,MAAAA;AAAD,QAASN,GAAG,CAACO,IAAnB;AACA,UAAM;AAACC,MAAAA;AAAD,QAAUR,GAAG,CAACO,IAApB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAI,CAACK,MAAjB;AACAZ,IAAAA,QAAQ,CAACL,OAAO,CAACY,IAAD,CAAR,CAAR;AACAF,IAAAA,YAAY,CAACQ,OAAb,CAAqB,OAArB,EAA8BJ,KAA9B;AACH,GAZD;AAaH,CAfM;;GAAMZ,I;;KAAAA,I","sourcesContent":["import axios from 'axios';\nimport { setUser } from '../reducers/userReducer';\nimport { useState } from 'react';\n\nexport const User = () => {\n    const [loading, setLoading] = useState(true);\n    return async dispatch => {\n        const res = await axios.get('http://localhost:5000/api/auth/check', {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n        });\n        // const {user, token} = res.data;\n        const {user} = res.data;\n        const {token} = res.data;\n        console.log(user.userId);\n        dispatch(setUser(user));\n        localStorage.setItem('token', token);\n    }\n};"]},"metadata":{},"sourceType":"module"}