{"ast":null,"code":"import axios from 'axios';\nimport { setUser } from '../reducers/userReducer';\nexport const user = () => {\n  return async dispatch => {\n    setTimeout(async () => {\n      const res = await axios.get('http://127.0.0.1:5000/api/auth/check', {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n    }, 5000); // const {user, token} = res.data;\n\n    const {\n      user\n    } = res.data;\n    const {\n      token\n    } = res.data;\n    console.log(user.userId);\n    dispatch(setUser(user));\n    localStorage.setItem('token', token);\n  };\n};","map":{"version":3,"sources":["/Users/admin/Desktop/DataArt/CloudDrive/front/src/actions/user.js"],"names":["axios","setUser","user","dispatch","setTimeout","res","get","headers","Authorization","localStorage","getItem","data","token","console","log","userId","setItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,yBAAxB;AAEA,OAAO,MAAMC,IAAI,GAAG,MAAM;AACtB,SAAO,MAAMC,QAAN,IAAkB;AACrBC,IAAAA,UAAU,CAAC,YAAY;AACnB,YAAMC,GAAG,GAAG,MAAML,KAAK,CAACM,GAAN,CAAU,sCAAV,EAAkD;AAChEC,QAAAA,OAAO,EAAE;AACLC,UAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADlD;AADuD,OAAlD,CAAlB;AAKH,KANS,EAMP,IANO,CAAV,CADqB,CAQrB;;AACA,UAAM;AAACR,MAAAA;AAAD,QAASG,GAAG,CAACM,IAAnB;AACA,UAAM;AAACC,MAAAA;AAAD,QAAUP,GAAG,CAACM,IAApB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAI,CAACa,MAAjB;AACAZ,IAAAA,QAAQ,CAACF,OAAO,CAACC,IAAD,CAAR,CAAR;AACAO,IAAAA,YAAY,CAACO,OAAb,CAAqB,OAArB,EAA8BJ,KAA9B;AACH,GAdD;AAeH,CAhBM","sourcesContent":["import axios from 'axios';\nimport { setUser } from '../reducers/userReducer';\n\nexport const user = () => {\n    return async dispatch => {\n        setTimeout(async () => {\n            const res = await axios.get('http://127.0.0.1:5000/api/auth/check', {\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem('token')}`\n                }\n            });\n        }, 5000);\n        // const {user, token} = res.data;\n        const {user} = res.data;\n        const {token} = res.data;\n        console.log(user.userId);\n        dispatch(setUser(user));\n        localStorage.setItem('token', token);\n    }\n};"]},"metadata":{},"sourceType":"module"}