{"ast":null,"code":"import axios from \"axios\";\nimport { addFolder, setFiles } from \"../reducers/fileReducer\";\nimport { useSelector } from \"react-redux\";\nexport function getFiles(dirId) {\n  var _s = $RefreshSig$();\n\n  return _s(async dispatch => {\n    _s();\n\n    const userId = useSelector(state => state.user.currentUser.userId);\n    dirId = dirId === null ? userId : dirId;\n    const res = await axios.get(`http://localhost:5000/api/drive/file/${dirId}`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n    dispatch(setFiles(res.data));\n  }, \"LgpCCO9hM5jC6++mg+u48YV1mCQ=\", false, function () {\n    return [useSelector];\n  });\n}\nexport function createDir(dirId, dirName) {\n  var _s2 = $RefreshSig$();\n\n  return _s2(async dispatch => {\n    _s2();\n\n    const userId = useSelector(state => state.user.currentUser.userId);\n    dirId = dirId === null ? userId : dirId;\n    const res = await axios.post(`http://localhost:5000/api/drive/folder`, {\n      name: dirName,\n      parentId: dirId,\n      type: 'dir'\n    }, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    });\n    dispatch(addFolder(res.data));\n  }, \"LgpCCO9hM5jC6++mg+u48YV1mCQ=\", false, function () {\n    return [useSelector];\n  });\n}","map":{"version":3,"sources":["/Users/admin/Desktop/DataArt/CloudDrive/front/src/actions/file.js"],"names":["axios","addFolder","setFiles","useSelector","getFiles","dirId","dispatch","userId","state","user","currentUser","res","get","headers","Authorization","localStorage","getItem","data","createDir","dirName","post","name","parentId","type"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,yBAApC;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,OAAO,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AAC5B,YAAO,MAAMC,QAAN,IAAkB;AAAA;;AACrB,UAAMC,MAAM,GAAGJ,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWC,WAAX,CAAuBH,MAAjC,CAA1B;AACAF,IAAAA,KAAK,GAAGA,KAAK,KAAK,IAAV,GAAiBE,MAAjB,GAA0BF,KAAlC;AACA,UAAMM,GAAG,GAAG,MAAMX,KAAK,CAACY,GAAN,CAAW,wCAAuCP,KAAM,EAAxD,EAA2D;AACzEQ,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADlD;AADgE,KAA3D,CAAlB;AAKAV,IAAAA,QAAQ,CAACJ,QAAQ,CAACS,GAAG,CAACM,IAAL,CAAT,CAAR;AACH,GATD;AAAA,YACmBd,WADnB;AAAA;AAUH;AAED,OAAO,SAASe,SAAT,CAAmBb,KAAnB,EAA0Bc,OAA1B,EAAmC;AAAA;;AACtC,aAAO,MAAMb,QAAN,IAAkB;AAAA;;AACrB,UAAMC,MAAM,GAAGJ,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWC,WAAX,CAAuBH,MAAjC,CAA1B;AACAF,IAAAA,KAAK,GAAGA,KAAK,KAAK,IAAV,GAAiBE,MAAjB,GAA0BF,KAAlC;AACA,UAAMM,GAAG,GAAG,MAAMX,KAAK,CAACoB,IAAN,CAAY,wCAAZ,EAAqD;AACnEC,MAAAA,IAAI,EAAEF,OAD6D;AAEnEG,MAAAA,QAAQ,EAAEjB,KAFyD;AAGnEkB,MAAAA,IAAI,EAAE;AAH6D,KAArD,EAKlB;AACIV,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADlD;AADb,KALkB,CAAlB;AAUAV,IAAAA,QAAQ,CAACL,SAAS,CAACU,GAAG,CAACM,IAAL,CAAV,CAAR;AACH,GAdD;AAAA,YACmBd,WADnB;AAAA;AAeH","sourcesContent":["import axios from \"axios\";\nimport { addFolder, setFiles } from \"../reducers/fileReducer\";\nimport { useSelector } from \"react-redux\";\n\nexport function getFiles(dirId) {\n    return async dispatch => {\n        const userId = useSelector(state => state.user.currentUser.userId);\n        dirId = dirId === null ? userId : dirId;\n        const res = await axios.get(`http://localhost:5000/api/drive/file/${dirId}`, {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n        });\n        dispatch(setFiles(res.data));\n    }\n}\n\nexport function createDir(dirId, dirName) {\n    return async dispatch => {\n        const userId = useSelector(state => state.user.currentUser.userId);\n        dirId = dirId === null ? userId : dirId;\n        const res = await axios.post(`http://localhost:5000/api/drive/folder`, {\n            name: dirName,\n            parentId: dirId,\n            type: 'dir'\n        },\n        {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n        });\n        dispatch(addFolder(res.data));\n    }\n}"]},"metadata":{},"sourceType":"module"}