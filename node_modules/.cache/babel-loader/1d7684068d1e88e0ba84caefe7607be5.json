{"ast":null,"code":"import axios from 'axios';\nimport { setUser } from '../reducers/userReducer'; // import { useState } from 'react';\n\nexport const auth = () => {\n  // const [loading, setLoading] = useState(true);\n  return async dispatch => {\n    if (!localStorage.getItem('token')) {\n      console.log('xui');\n    }\n\n    const res = await axios.get('http://localhost:5000/api/auth/check', {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }); // const {user, token} = res.data;\n\n    const {\n      user\n    } = res.data;\n    const {\n      token\n    } = res.data;\n    console.log(user.userId);\n    dispatch(setUser(user));\n    localStorage.setItem('token', token);\n  };\n}; // export const auth = () => {\n//     return async dispatch => {\n//         const res = await axios.get\n//     }\n// }","map":{"version":3,"sources":["/Users/admin/Desktop/DataArt/CloudDrive/front/src/actions/user.js"],"names":["axios","setUser","auth","dispatch","localStorage","getItem","console","log","res","get","headers","Authorization","user","data","token","userId","setItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,yBAAxB,C,CACA;;AAEA,OAAO,MAAMC,IAAI,GAAG,MAAM;AACtB;AACA,SAAO,MAAMC,QAAN,IAAkB;AACrB,QAAG,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;AAC/BC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACH;;AACD,UAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAU,sCAAV,EAAkD;AAChEC,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,UAASP,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADlD;AADuD,KAAlD,CAAlB,CAJqB,CASrB;;AACA,UAAM;AAACO,MAAAA;AAAD,QAASJ,GAAG,CAACK,IAAnB;AACA,UAAM;AAACC,MAAAA;AAAD,QAAUN,GAAG,CAACK,IAApB;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAYK,IAAI,CAACG,MAAjB;AACAZ,IAAAA,QAAQ,CAACF,OAAO,CAACW,IAAD,CAAR,CAAR;AACAR,IAAAA,YAAY,CAACY,OAAb,CAAqB,OAArB,EAA8BF,KAA9B;AACH,GAfD;AAgBH,CAlBM,C,CAmBP;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios';\nimport { setUser } from '../reducers/userReducer';\n// import { useState } from 'react';\n\nexport const auth = () => {\n    // const [loading, setLoading] = useState(true);\n    return async dispatch => {\n        if(!localStorage.getItem('token')) {\n            console.log('xui');\n        }\n        const res = await axios.get('http://localhost:5000/api/auth/check', {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n        });\n        // const {user, token} = res.data;\n        const {user} = res.data;\n        const {token} = res.data;\n        console.log(user.userId);\n        dispatch(setUser(user));\n        localStorage.setItem('token', token);\n    }\n};\n// export const auth = () => {\n//     return async dispatch => {\n//         const res = await axios.get\n//     }\n// }"]},"metadata":{},"sourceType":"module"}